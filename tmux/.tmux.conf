##### PREFIX KEY CONFIGURATION #####

# Unbind the default tmux prefix (Ctrl-b)
unbind C-b

# Set the tmux prefix key to backtick (`) instead of Ctrl-b
set -g prefix `

# Press prefix + ` to switch to the last active window
bind-key ` last-window

# Press prefix + e to send the prefix key through to nested tmux sessions
bind-key e send-prefix


##### WINDOW & PANE BEHAVIOR #####

# Automatically renumber windows when one is closed
set-option -g renumber-windows on

# Use vi-style key bindings in copy mode
setw -g mode-keys vi

# Increase scrollback buffer size (default is much smaller)
set-option -g history-limit 5000

# Start window numbering at 1 instead of 0
set -g base-index 1

# Start pane numbering at 1 instead of 0
setw -g pane-base-index 1


##### TERMINAL & COLOR SUPPORT #####

# Set default terminal type for tmux
set -g default-terminal 'screen-256color'

# Enable true color (24-bit color) support for compatible terminals
set -ag terminal-overrides ',xterm-256color:Tc'


##### STATUS BAR APPEARANCE #####

# Position the status bar at the bottom of the screen
set -g status-position bottom

# Set status bar background color
set -g status-bg colour234

# Set status bar foreground (text) color
set -g status-fg colour137

# Disable the left side of the status bar
set -g status-left ''

# Configure the right side of the status bar:
# - Date (DD/MM)
# - Time (HH:MM:SS)
# - Session name
# - Hostname
set -g status-right '#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %H:%M:%S #[fg=white]#S @#(hostname)'

# Limit status bar field lengths
set -g status-right-length 50
set -g status-left-length 20

# Format for the currently active window in the status bar
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '

# Format for inactive windows in the status bar
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '


##### MOUSE & ENVIRONMENT #####

# Enable mouse support (pane resizing, window switching, scrolling)
set -g mouse on

# Refresh environment variables (like SSH_AUTH_SOCK) in existing sessions
set -g update-environment -r
